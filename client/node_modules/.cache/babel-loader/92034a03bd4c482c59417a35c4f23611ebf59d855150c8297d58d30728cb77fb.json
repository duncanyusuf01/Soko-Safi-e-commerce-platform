{"ast":null,"code":"var _jsxFileName = \"/home/yusuf12148/moringa/Soko-Safi-e-commerce-platform/client/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ProductCard from '../components/ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await fetch('/products');\n        if (response.ok) {\n          const data = await response.json();\n          setProducts(data);\n          setFilteredProducts(data);\n\n          // Extract unique categories\n          const uniqueCategories = ['All', ...new Set(data.map(p => p.category || 'Uncategorized'))];\n          setCategories(uniqueCategories);\n        }\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, []);\n  useEffect(() => {\n    // Filter based on category and search term\n    let filtered = [...products];\n    if (selectedCategory !== 'All') {\n      filtered = filtered.filter(p => (p.category || 'Uncategorized') === selectedCategory);\n    }\n    if (searchTerm.trim() !== '') {\n      filtered = filtered.filter(p => p.name.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n    setFilteredProducts(filtered);\n  }, [searchTerm, selectedCategory, products]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center my-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border text-primary\",\n      role: \"status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-3\",\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-primary text-white p-5 rounded shadow-sm mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-5\",\n        children: \"Welcome to Soko Safi!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"lead mb-0\",\n        children: \"Browse a wide range of potraits from nearby vendors.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Search products...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select\",\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          children: categories.map((category, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category,\n            children: category\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 text-md-end\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-muted\",\n          children: [filteredProducts.length, \" product(s) found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning\",\n      children: \"No products match your search.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4\",\n      children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6 col-md-4 col-lg-3\",\n        children: /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: product\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }, this)\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(HomePage, \"/3dSj6H7qpuyV6lasaDNbPd0C84=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","ProductCard","jsxDEV","_jsxDEV","HomePage","_s","products","setProducts","filteredProducts","setFilteredProducts","categories","setCategories","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","loading","setLoading","fetchProducts","response","fetch","ok","data","json","uniqueCategories","Set","map","p","category","error","console","filtered","filter","trim","name","toLowerCase","includes","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","i","length","product","id","_c","$RefreshReg$"],"sources":["/home/yusuf12148/moringa/Soko-Safi-e-commerce-platform/client/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ProductCard from '../components/ProductCard';\n\nfunction HomePage() {\n    const [products, setProducts] = useState([]);\n    const [filteredProducts, setFilteredProducts] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState('All');\n    const [searchTerm, setSearchTerm] = useState('');\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const response = await fetch('/products');\n                if (response.ok) {\n                    const data = await response.json();\n                    setProducts(data);\n                    setFilteredProducts(data);\n\n                    // Extract unique categories\n                    const uniqueCategories = ['All', ...new Set(data.map(p => p.category || 'Uncategorized'))];\n                    setCategories(uniqueCategories);\n                }\n            } catch (error) {\n                console.error(\"Error fetching products:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    useEffect(() => {\n        // Filter based on category and search term\n        let filtered = [...products];\n\n        if (selectedCategory !== 'All') {\n            filtered = filtered.filter(p => (p.category || 'Uncategorized') === selectedCategory);\n        }\n\n        if (searchTerm.trim() !== '') {\n            filtered = filtered.filter(p =>\n                p.name.toLowerCase().includes(searchTerm.toLowerCase())\n            );\n        }\n\n        setFilteredProducts(filtered);\n    }, [searchTerm, selectedCategory, products]);\n\n    if (loading) return (\n        <div className=\"text-center my-5\">\n            <div className=\"spinner-border text-primary\" role=\"status\" />\n            <p className=\"mt-3\">Loading products...</p>\n        </div>\n    );\n\n    return (\n        <div className=\"container py-4\">\n            {/* Hero Section */}\n            <div className=\"bg-primary text-white p-5 rounded shadow-sm mb-4\">\n                <h1 className=\"display-5\">Welcome to Soko Safi!</h1>\n                <p className=\"lead mb-0\">Browse a wide range of potraits from nearby vendors.</p>\n            </div>\n\n            {/* Filters */}\n            <div className=\"row align-items-center mb-4\">\n                <div className=\"col-md-4 mb-2\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Search products...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                </div>\n                <div className=\"col-md-4 mb-2\">\n                    <select\n                        className=\"form-select\"\n                        value={selectedCategory}\n                        onChange={(e) => setSelectedCategory(e.target.value)}\n                    >\n                        {categories.map((category, i) => (\n                            <option key={i} value={category}>{category}</option>\n                        ))}\n                    </select>\n                </div>\n                <div className=\"col-md-4 text-md-end\">\n                    <span className=\"text-muted\">{filteredProducts.length} product(s) found</span>\n                </div>\n            </div>\n\n            {/* Product Grid */}\n            {filteredProducts.length === 0 ? (\n                <div className=\"alert alert-warning\">No products match your search.</div>\n            ) : (\n                <div className=\"row g-4\">\n                    {filteredProducts.map(product => (\n                        <div className=\"col-sm-6 col-md-4 col-lg-3\" key={product.id}>\n                            <ProductCard product={product} />\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}